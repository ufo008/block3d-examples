"use strict";window.addEventListener("load",async()=>{let e;BABYLON.apps=[],BABYLON.Preloader=class{constructor(e){this._container=e.parentElement,this._canvas=e,this._bar=document.createElement("div"),this._logo=document.createElement("div"),this._logoCont=document.createElement("div"),this._background=document.createElement("div");e=window.getComputedStyle(this._canvas).position;this._bar.setAttribute("class","preloader-bar"),this._logo.setAttribute("class","preloader-logo"),this._logoCont.setAttribute("id","preloader_container"),this._logoCont.setAttribute("class","preloader-container"),this._background.setAttribute("class","preloader-background"),this._background.style.position="fixed"===e?"fixed":"absolute",this._background.appendChild(this._logoCont),this._logoCont.appendChild(this._logo),this._logoCont.appendChild(this._bar)}start(){this._container.appendChild(this._background)}update(e){this._bar.style.width=e+"%"}finish(){this._background.classList.add("fade"),setTimeout(()=>{this._background&&this._background.parentElement&&this._background.parentElement.removeChild(this._background)},1e3)}},e=new class{constructor(e){this.canvas="string"==typeof e?document.getElementById(e):e,this.engine=null,this.scene=null,this.overlayScene=null,this.overlaySceneEnabled=!0,this.camera=null,this.env=null,this.assetsManager=null,this.preloader=null,this.fps=null,this.running=!1,this._glob={},this.glob={}}setup(){return this.engine=new BABYLON.Engine(this.canvas,!0,{stencil:!0}),this.scene=new BABYLON.Scene(this.engine),this.overlayScene=new BABYLON.Scene(this.engine),this.overlayScene.autoClear=!1,this.env=this.scene.createDefaultEnvironment({environmentTexture:"assets/texture/environmentSpecular.env",skyboxTexture:"assets/texture/backgroundSkybox.dds",groundTexture:"assets/texture/backgroundGround.png"}),this.camera=new BABYLON.ArcRotateCamera("defaultCamera",-Math.PI/2,Math.PI/2,10,BABYLON.Vector3.Zero(),this.scene),this.camera.lowerRadiusLimit=1,this.camera.attachControl(this.canvas),this.scene.activeCamera=this.camera,window.addEventListener("resize",this.resize),this}resize=()=>this.engine.resize();beforeRun(){}run(){this.beforeRun&&this.beforeRun(),this.overlaySceneEnabled?(this.overlayScene.activeCamera=this.scene.activeCamera,this.engine.runRenderLoop(()=>{this.scene.render(),this.overlayScene.render()})):this.engine.runRenderLoop(()=>this.scene.render()),this.running=!0}stop(){this.running&&this.engine.stopRenderLoop(),this.running=!1}getFps(){return this.engine.getFps().toFixed()}dispose(){window.removeEventListener("resize",this._resize),this.engine.dispose()}}("renderCanvas").setup(),BABYLON.apps.push(e),await BABYLON.Tools.LoadScriptAsync("./assets/js/visual_logic.js"),e.run()});